## This Makefile is generated by AI. Maybe i need to learn how to build Makefiles :)

APP_NAME=grepcoder
MAIN=main.go
BUILD_DIR=bin

.PHONY: all build run clean fmt tidy deps test help

all: build

## Build the binary
build:
	@mkdir -p $(BUILD_DIR)
	go build -o $(BUILD_DIR)/$(APP_NAME) $(MAIN)

## Run the application
run:
	go run $(MAIN)

## Format all Go files
fmt:
	go fmt ./...

## Vet and basic linting
lint:
	go vet ./...

## Download and verify go modules
deps:
	go mod tidy
	go mod download

## Run tests (if any)
test:
	go test ./...

## Remove build files
clean:
	rm -rf $(BUILD_DIR)

## Show available commands
help:
	@echo "Available targets:"
	@echo "  build   - Build the project"
	@echo "  run     - Run the project"
	@echo "  fmt     - Format the code"
	@echo "  lint    - Run static analysis"
	@echo "  deps    - Download and tidy dependencies"
	@echo "  test    - Run test suite"
	@echo "  clean   - Remove build artifacts"
